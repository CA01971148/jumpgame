(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{Jy:()=>a,QB:()=>u,tw:()=>y});var e,i=function(){function t(){this.characterSize=50,this.footSize=20,this._x=0,this._y=50,this.height=0,this._dx=0,this.moveVelocity=5,this.dxMax=10,this._dy=0,this.dyMax=10,this._jumpVelocity=0,this.jumpChargeAmount=1,this.jumpChargeMax=25,this.fallVelocitiy=1,this.isOnGround=!0,this.isSlip=!1,this.isCarry=!1,this.isOnMoving=!1,this.heightSize=this.characterSize}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t<-180?180:t>180?-180:t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this._dx},set:function(t){t>this.dxMax?this._dx=this.dxMax:t<-this.dxMax?this._dx=-this.dxMax:this._dx=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this._dy},set:function(t){this._dy=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jumpVelocity",{get:function(){return this._jumpVelocity},set:function(t){t>this.jumpChargeMax?this._jumpVelocity=this.jumpChargeMax:this._jumpVelocity=t},enumerable:!1,configurable:!0}),t.prototype.move=function(){this.x+=this.dx,this.checkAboveScaffold()&&this.height+this.dy<this.currentScaffold().height?(this.y=this.currentScaffold().y,this.height=this.currentScaffold().height):(this.y+=this.dy,this.height+=this.dy),!1===this.isOnGround?this.dy-=this.fallVelocitiy:this.dy<0&&(this.dy=0),!1===this.isSlip||this.dx<this.moveVelocity&&this.dx>-this.moveVelocity?this.dx=0:this.dx*=.95,document.getElementById("character").style.left=this.x+window.innerWidth/2-this.characterSize/2+"px",document.getElementById("character").style.top=640-(this.y+this.heightSize)+"px",this.isOnGround=this.checkOnGround()},t.prototype.currentScaffold=function(){return y[0]},t.prototype.checkAboveScaffold=function(){return this.x-this.footSize/2<=this.currentScaffold().width/2+this.currentScaffold().x&&this.x+this.footSize/2>=-this.currentScaffold().width/2+this.currentScaffold().x},t.prototype.checkOnGround=function(){return!(this.height!==this.currentScaffold().height||!this.checkAboveScaffold())},t.prototype.moveLeft=function(){!1===this.isOnGround&&(this.dx-=this.moveVelocity),document.getElementById("character").style.transform="rotateY(0deg)"},t.prototype.moveRight=function(){!1===this.isOnGround&&(this.dx+=this.moveVelocity),document.getElementById("character").style.transform="rotateY(180deg)"},t.prototype.jumpCharge=function(){this.jumpVelocity+=this.jumpChargeAmount;var t=this.characterSize*((this.jumpChargeMax-this.jumpVelocity)/this.jumpChargeMax);this.heightSize=t<10?10:t,document.getElementById("character").style.height=this.heightSize+"px"},t.prototype.jump=function(){this.heightSize=this.characterSize,!0===this.isOnGround&&(this.dy+=this.jumpVelocity),this.jumpVelocity=0,document.getElementById("character").style.height=this.characterSize+"px"},t}(),n=(e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},e(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),r=function(t){function e(){var e=t.call(this)||this;return document.write('<img id="character" src="./../resource/rabbit.png">'),document.getElementById("character").style.width=e.characterSize+"px",document.getElementById("character").style.height=e.characterSize+"px",e}return n(e,t),e}(i),o=function(){function t(e,i){void 0===i&&(i=t.defaultWidth),this._x=0,this._y=0,this._height=0,this._width=t.defaultWidth,this.level=e,this.height=this.level*t.scaffoldDistance,0===this.level?(this.width=360,this.x=0):(this.width=i,this.x=Math.random())}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),t.prototype.scrole=function(){document.getElementById("scaffold").style.left=this.x+window.innerWidth/2-this.width/2+"px",this.y=50+t.scaffoldDistance*this.level,this.height=t.scaffoldDistance*this.level,document.getElementById("scaffold").style.top=640-this.y+"px"},t.defaultWidth=150,t.thickness=20,t.scaffoldDistance=200,t}(),h=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(e,i){void 0===i&&(i=o.defaultWidth);var n=t.call(this,e,i)||this;return document.write('<img id="scaffold" src="./../resource/normalScaffold.jpg">'),document.getElementById("scaffold").style.width=n.width+"px",document.getElementById("scaffold").style.height=o.thickness+"px",n}return h(e,t),e}(o),c=function(){function t(){this.key_left=!1,this.key_right=!1,this.key_jump=!1}return t.prototype.keyDownFunc=function(t){switch(t.keyCode){case 65:this.key_left=!0,a.key_left=this.key_left;break;case 68:this.key_right=!0,a.key_right=this.key_right;break;case 32:this.key_jump=!0,a.key_jump=this.key_jump}},t.prototype.keyUpFunc=function(t){switch(t.keyCode){case 65:this.key_left=!1,a.key_left=this.key_left;break;case 68:this.key_right=!1,a.key_right=this.key_right;break;case 32:this.key_jump=!1,a.key_jump=this.key_jump,u.jump()}},t}(),u=new r,a=new c,y=new Array;y[0]=new s(0),requestAnimationFrame((function t(){addEventListener("keydown",a.keyDownFunc),addEventListener("keyup",a.keyUpFunc),!0===a.key_left&&!1===a.key_right&&u.moveLeft(),!0===a.key_right&&!1===a.key_left&&u.moveRight(),!0===a.key_jump&&u.jumpCharge(),document.getElementById("sampleArea").innerHTML="JumpPower:"+String(u.jumpVelocity)+"/"+String(u.jumpChargeMax),document.getElementById("sampleArea2").innerHTML="Height:"+String(u.y-50),u.move();for(var e=0;e<y.length;e++)y[e].scrole();requestAnimationFrame(t)}))})();